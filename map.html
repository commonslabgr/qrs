<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="initial-scale=1.0">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Υπηρεσία προταιρεότητας εξυπηρέτησης πολιτών</title>
                <style>
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      #map {
        height: 100%;
      }
    </style>
    </head>


    <body>
        <p> Εμφανίζεται χάρτης με την επιλεγμένη υπηρεσία στην επιλεγμένη πόλη (ΕΛΤΑ, Ηράκλειο).<br>Το σύστημα παίρνει τις πληροφορίες, εμφανίζει όλα τα σημεία εξυπηρέτησης με τις απαραίτητες πληροφορίες και ανοίγει το σημείο το οποίο έχει το μικρότερο χρόνο αναμονής.
        
        </p>
    <div id="map"></div>
        
<script type="text/javascript">
    var mmmap;
    //Initialize Map
    function initMap() {
        
                myLatLng1 = {lat:35.3317353, lng:25.1396598};
                myLatLng2 = {lat:35.337467, lng:25.134883};
                mmmap = new google.maps.Map(document.getElementById('map'), {
                    center: myLatLng2,
                    zoom: 15,
                    zoomControl: true,
                    mapTypeControl: true,
                    scaleControl: false,
                    fullscreenControl: true
                });
                
                //Set content for infobox in map
                var contentString1='<h3>ΕΛΤΑ Εθνικής Αντιστάσεως</h3>'+
                                   '<br>Χρόνος αναμονής: <strong>16 λεπτά</strong>'+
                                   '<br>Αριθμός εξυπηρέτησης: 33'+
                                   '<br>Αριθμός αναμονής: 41'+                
                                  '<div>Διεύθυνση: Εθνικής Αντιστάσεως 49<br>Τηλέφωνο: 2810212963</div>';
                var contentString2='<h3>ΕΛΤΑ Πλατείας Δασκαλογιάννη</h3>'+
                                  '<br>Χρόνος αναμονής: <strong>37 λεπτά</strong>'+
                                  '<br>Αριθμός εξυπηρέτησης: 30'+
                                  '<br>Αριθμός αναμονής: 49'+
                                   '<div>Διεύθυνση: Πλατεία Δασκαλογιάννη 1<br>Τηλέφωνο: 2810289994</div>';
                var infowindow1 = new google.maps.InfoWindow({
                    content: contentString1,
                    maxWidth: 300
                });
                var infowindow2 = new google.maps.InfoWindow({
                    content: contentString2,
                    maxWidth: 300
                });
                //Place marker on map
                var marker1 = new google.maps.Marker({
                    position: myLatLng1,
                    map: mmmap,
                    title: 'Map'
                });
                 var marker2 = new google.maps.Marker({
                    position: myLatLng2,
                    map: mmmap,
                    title: 'Map'
                });               
                //Add listener on marker to open info window
                marker1.addListener('click', function() {
                    infowindow1.open(mmmap, marker1);
                });           
                marker2.addListener('click', function() {
                    infowindow2.open(mmmap, marker2);
                });
                infowindow1.open(mmmap, marker1);
    }
</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAdfNsqF3vfIaL4fod1ZACIGQMcXakbxWg&callback=initMap"
    async defer></script>
<script type="text/javascript">
    </body>
</html>
